
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="login-section container mx-auto my-5 px-2 sm:px-8">
    <div class="mx-auto max-w-[500px] rounded-lg bg-white p-5">
        <div class="my-5">
            <img class="mx-auto" src="~/Content/images/svg/logo.svg" alt="logo" />
        </div>
        <form id="dangnhapform" action="#">
            <div class="flex flex-col gap-4">
                <div class="relative flex h-[40px] items-center">
                    <i class="bi bi-person absolute ml-2 flex text-[24px] text-gray-400"></i>
                    <input class="input pl-10" type="email" name="email" id="email" placeholder="email" autocomplete="" required />
                </div>
                <div class="relative flex h-[40px] items-center">
                    <i class="bi bi-lock absolute ml-2 flex text-[24px] text-gray-400"></i>
                    <input class="input pl-10" type="password" name="password" id="password" placeholder="Password" autocomplete="" required />
                </div>
                <button class="btn-effect transition-all-300 h-full w-full rounded-lg bg-primary-color p-2" @*onclick="dangnhap()"*@ type="submit">
                    <span class="font-bold uppercase text-white">Login</span>
                </button>
            </div>
            <div class="my-2 flex flex-wrap items-center justify-between gap-2">
                <label class="flex select-none items-center gap-2">
                    <input class="checkbox" type="checkbox" />
                    <span class="text-gray-title">Remember</span>
                </label>
                <a class="underlined-animated text-[#3091ff] after:bottom-0" href="#">Forgot Password?</a>
            </div>
        </form>
        <span class="or text-gray-title flex h-[50px] items-center py-2">
            <span class="mx-2 text-sm uppercase">Or</span>
        </span>
        <div class="flex flex-col flex-wrap justify-center gap-5 sm:flex-row">
            <button class="transition-all-300 flex h-[50px] min-w-[100px] items-center justify-center rounded-lg bg-facebook hover:scale-110">
                <a href="@Url.Action("FacebookLogin", "Account")" class="bi bi-facebook flex text-3xl text-white"></a>
            </button>
            <button class="transition-all-300 flex h-[50px] min-w-[100px] items-center justify-center rounded-lg bg-google hover:scale-110">
                <a href="@Url.Action("GoogleLogin", "Account")" class="bi bi-google flex text-3xl text-white"></a>
            </button>
        </div>
        <div class="mt-5 flex flex-col items-center justify-center border-t border-t-gray-400 pt-5">
            <span>Don't have a account?</span>
            <a class="btn-effect rounded-lg bg-primary-color p-2 text-white" href="@Url.Action("Signup","Account")">
                <span>Create one</span>
            </a>
        </div>
    </div>
</div>
@*<script>
    //$('#dangnhapform').addEventListener('submit', function () {
    //    event.preventDefault();
    //    dangnhap()
    //});
    $('#dangnhapform').submit(function () {
        event.preventDefault();
        dangnhap();
    });
    function dangnhap() {
        //event.preventDefault(); // Ngăn chặn sự kiện mặc định của form
        var email = $('#email').val();
        var pass = $('#password').val();
        if (!email || !pass) {
            alert('Vui lòng nhập đầy đủ thông tin!');
            return;
        }
        $.ajax({
            url: '/Api/Account',
            type: 'GET',
            data: { 'Email': email, 'Password': pass },
            success: (ress) => {
                if (ress != null) window.location.href = `/Home/Index/?code=${ress.AccountCode}`;
                else alert("Tên đăng nhập hoặc mật khẩu không đúng");
            },
            error: (er) => {
                console.log(er);
                alert("Đã xảy ra lỗi. Vui lòng thử lại sau.");
            }
        });
    }
</script>*@

